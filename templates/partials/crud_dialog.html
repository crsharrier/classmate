<div class="modal">
	<div class="modal-underlay"></div>
	<div class="modal-content">
		<h1 class="text-xl w-full text-center mb-4">{{ action.title }} {{ entity.title }}</h1>
		
		{% if action != 'delete' %}
		<form action="/crud_dialog?entity={{ entity }}&action={{ action }}" method="post">
			{% csrf_token %}
			<table class="mt-2"> 
				{% for field in form %}
					<tr class="py-4">
						<td> {{ field.errors }} {{ field.label_tag }} </td>
						<td> {{ field }} </td>
					</tr>
				{% endfor %}
			</table>
			<input type="submit" value="Submit" class="cm-green-button ml-2">
		</form>
		
		{% else %}
		<div> Are you sure you want to delete this {{ entity }}?</div>
		<form action="/crud_dialog?entity={{ entity }}&action={{ action }}" method="delete">
			{% csrf_token %}
			<input type="submit" value="Delete" class="cm-red-button ml-2">
		</form>

		{% endif %}
		<br>
		<br>
		<button class="close-modal cm-red-button"> 
			Close 
		</button>
	</div>
</div>

<script>
	// Initial call to initialize the modal
	initModal();
</script>